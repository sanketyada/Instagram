<% include ./partials/header.ejs %>

  <div class="w-full min-h-screen bg-black text-white pb-24">

    <!-- Top Nav -->
    <div class="sticky top-0 z-50 bg-black border-b border-zinc-800">
      <div class="flex justify-between items-center px-4 py-3">
        <h3 class="text-lg font-semibold">
          <%=user.username%>
        </h3>
        <div class="flex gap-6 text-2xl">
          <a href="/upload">
            <i class="ri-add-box-line cursor-pointer"></i>
          </a>

          <a href="/logout">
             <i class="ri-menu-line cursor-pointer"></i>
            </a>

        </div>
      </div>
    </div>

    <!-- Profile Info -->
    <div class="flex items-center justify-between px-6 mt-6">
      <div class="w-[19vw] h-[19vw] bg-sky-100 rounded-full overflow-hidden">
        <img class="w-full h-full object-cover" src="<%=user.profileImg%>" alt="">
      </div>

      <div class="flex gap-6 text-center">
        <div>
          <h3 class="font-semibold">
            <%=user.posts.length%>
          </h3>
          <p class="text-xs opacity-60">Posts</p>
        </div>
        <div>
          <h3 class="font-semibold">322</h3>
          <p class="text-xs opacity-60">Followers</p>
        </div>
        <div>
          <h3 class="font-semibold">322</h3>
          <p class="text-xs opacity-60">Following</p>
        </div>
      </div>
    </div>

    <!-- Bio -->
    <div class="px-6 mt-4">
      <h3 class="text-sm font-semibold">
        <%=user.name%>
      </h3>
      <p class="text-xs opacity-60 leading-tight mt-1">
        <%=user.bio%>
      </p>
    </div>

    <!-- Edit Profile -->
    <div class="px-6 mt-4">
      <a href="/edit" class="block text-center text-sm py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 transition">
        Edit Profile
      </a>
    </div>

    <!-- Posts Grid -->
    <div class="grid grid-cols-3 gap-[2px] mt-6">
      <% user.posts.forEach((item)=> { %>

        <div class="aspect-square bg-zinc-900 overflow-hidden">
          <img src="<%= item.postimage %>" class="w-full h-full object-cover hover:opacity-90 transition" alt="" />
        </div>

        <% }) %>
    </div>

  </div>

  <% include ./partials/footer.ejs %>